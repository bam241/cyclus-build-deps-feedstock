# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.

language: generic

os: osx
osx_image: beta-xcode6.1

env:
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "4S+aeElqBDzBswlGaeYsNf09BfOAcmcm1OmrXGsmZCdWAesZb74tMAyyUPj5M0Qlm4Wa/k+3IPqPe8FJobrsA+dODXDuIJrwSyOm/qTXbMX0rYWWSD4QabIbLyU/xlZUlwvE5cLXGjYyDJth76aKQ7PI4tg8wii1yLrYvSZT4AEDtn3P2cGXMHldfzdsQttB9mlqTL/iB6Do+RtHog9FOo2I+N7994mwZIXtXh6r3a0qqrIqD/rqZay+ruWXl/X1lYdn5gUQRHSP9/U/hfZeKVfVhZJBWfskUYryqufYaW6MyT6UF3eulhQgX7n3+1uAjWgAqCZ3M8/vas74gwM3ct0q0BmYua8GivAeRm5Z3UmmRsRsgy2mtfMJSs/SrjdBwcjJDkBXQEXb/V7zHmm2Yman37UDZHGddB6QqMtLom8af1NkRwFSQ0noHVD/6Mt8YmmVMidT5UkqHdUnNbs25/7m3R2ILE1bFiO+VSqg+7Qk4lLZElRCSYFsf6uuUSvJWxpeUg4ynxL0bsCPFcLvc6JrnkqA8zs6iC5zh9pO/X1cag9kSvLJV1tOEp0kMpU7eKJ74aa0im9XkqjRMA7T1hfR3UVUOF6BBZDpbxL/X1SEa1VP2nGDpl91P4kb0Cnds6VGZd28ISRhZR1qV59c2vLj4WZMnxg+M1yPeHDk7Jk="


before_install:
    # Remove homebrew.
    - brew remove --force $(brew list)
    - brew cleanup -s
    - rm -rf $(brew --cache)

install:
    - |
      MINICONDA_URL="https://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-latest-MacOSX-x86_64.sh"
      curl -L -O "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

      source /Users/travis/miniconda3/bin/activate root
      conda config --add channels conda-forge
      conda config --set show_channel_urls true
      conda install --yes --quiet conda-forge-build-setup
      source run_conda_forge_build_setup

script:
  - conda build ./recipe

  - upload_or_check_non_existence ./recipe conda-forge --channel=main
